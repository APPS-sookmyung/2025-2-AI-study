# 개별 시스템의 구체적 메커니즘과 한계점, 개선 방향 제시

### 앞부분 vs 이 부분의 차이점 설명

앞부분(기존 조사)은 "멀티에이전트 RAG가 이미 표준화되었다"는 현황 분석에 초점을 맞췄다면, 이 부분은 "구체적인 고급 RAG 기법들의 심화 분석"에 집중

핵심적으로, 이해 → 계획 → 실행(하이브리드 검색) → 성찰 사이클을 기반으로 한 동적 상호작용 아키텍처가 주된 테마이다.

---

## 1. Planning & Execution 패턴

### 1.1 PAR-RAG: Plan-then-Act-and-Review RAG

#### 핵심 개념

PAR-RAG는 인간의 신중한 문제 해결 과정을 모방한 RAG 시스템이다:

```
계획(Plan) → 실행(Act) → 검토(Review)
```

#### 상세 메커니즘

1. **계획 단계**: 복잡한 질문을 명시적인 하위 목표들의 '청사진'으로 분해한다
2. **실행 단계**: 각 하위 목표를 순차적으로 실행하며 필요한 정보를 검색한다
3. **검토 단계**: 생성된 결과물의 **근거성(Groundedness)**과 **적절성(Relevance)**을 이중으로 검증한다

#### 혁신점

- 다중 홉 추론에서 발생하는 치명적 오류 전파(Error Propagation) 문제를 해결함
- 각 추론 단계에 명시적인 검증 절차를 도입하여 시스템 견고성을 높임

#### 한계점 및 개선 방향

- 검토 단계에서 오류를 발견해도 **전체 프로세스를 유연하게 재시작**할 수 없음
- 선형적에서 **전역적이고 순환적인 피드백 루프**로 발전 가능

### 1.2 MA-RAG: Multi-Agent Retrieval-Augmented Generation

#### 핵심 개념

**모놀리식(단일) 구조**의 한계를 극복하고 **분산형 에이전트 패러다임**을 적용한 시스템이다:

```
Planner → Step Definer → Extractor → QA Agent
```

#### 에이전트별 역할

1. **Planner Agent**: 복잡한 질문을 논리적 하위 작업들로 분해
2. **Step Definer Agent**: 추상적 작업을 구체적 검색 쿼리로 변환
3. **Extractor Agent**: 방대한 문서에서 핵심 증거만 정밀 추출
4. **QA Agent**: 모든 증거를 종합하여 최종 답변 생성

#### 혁신점

- **Assembly Line 방식**의 명확한 역할 분담으로 전문성과 효율성 확보
- **모듈화된 아키텍처**로 유지보수와 확장성 향상

#### 한계점 및 개선 방향

- **선형 파이프라인 구조**: 앞 순서 에이전트의 실수가 전체 시스템에 전파됨
- **피드백 및 자기 교정 메커니즘 부재**
- **→ 개선 방향**: **순환적 인지 아키텍처**로 재구성하여 유기적 상호작용 구현

### 1.3 RAG기반 AI Multi-Agent 시스템을 활용한 기업정보 분석

#### 핵심 개념

**CrewAI 기반** 실제 기업 리포트 분석 시스템으로, **하이브리드 검색 전략**을 구현한다:

```
내부 DB 검색 → 검수 Agent 평가 → 부족시 웹 검색 병합
```

#### 구성 요소

- **5개 전문 에이전트**: PDF 분석가, 웹탐색분석가, 재무분석가, 전략분석가, 통합전문가
- **앙상블 검색**: Faiss(밀집 검색) + BM25(희소 검색) 통합
- **LLM-as-a-judge**: 관련성, 사실성, 완결성, 일관성을 5점 만점으로 평가

#### 혁신점

- **하이브리드 검색 전략**: 내부 DB 부족시 자동으로 웹 검색으로 확장
- **실행 모델과 평가 모델 분리**로 비용 효율성 확보

---

## 2. Reflection & 자기 교정 패턴

### 2.1 Self-RAG

#### 핵심 개념

LLM이 RAG의 전 과정에 **능동적으로 개입**하여 **자기 성찰적(Self-Reflective)** 제어를 수행하는 프레임워크이다.

#### 메커니즘

**반성 토큰(Reflection Token)** 기반 제어:

```
[Retrieve] → [Relevant] → [ISSUP] 등의 특수 토큰 생성
```

1. **판단 및 제어**: LLM이 검색 필요성, 정보 관련성, 근거 여부를 스스로 판단
2. **비판 및 선택**: 여러 후보 답변 중 반성 토큰 기반 품질 점수로 최적 선택

#### 혁신점

- **RAG 파이프라인의 제어권**을 외부 로직이 아닌 **LLM 자신**에게 부여
- **파인튜닝**을 통해 세밀하고 효과적인 제어 구현

#### 한계점 및 개선 방향

- **특정 모델 파인튜닝 필수**: 비용 부담, 일반성 부족
- **→ 개선 방향**: 파인튜닝 없이 **일반화된 아키텍처 수준**에서 성찰 효과 구현

### 2.2 CRAG: Corrective Retrieval Augmented Generation

#### 핵심 개념

**부정확한 정보를 사전 차단**하고 **교정하는 실용적 메커니즘**을 제안한다:

```
평가(Evaluate) → 교정(Corrective Action) → 정제(Refine)
```

#### 세부 프로세스

1. **평가**: 경량 LLM 기반 '검색 평가기'가 관련성을 **{Correct, Ambiguous, Incorrect}**로 분류
2. **교정**: Ambiguous/Incorrect 시 **웹 검색을 동적 트리거**하여 정보 보강
3. **정제**: 중복/관련 없는 부분 제거로 **순도 높은 정보만** LLM에 제공

#### 혁신점

- **플러그 앤 플레이** 방식으로 다양한 RAG에 쉬운 결합
- **조건부 피드백 루프**를 통한 동적 품질 관리

#### 한계점 및 개선 방향

- **Retrieval evaluator 파인튜닝 필수**
- **계획 단계 오류 시 전체 실패** 가능성
- **→ 개선 방향**: **전역적 피드백**으로 계획 단계까지 재수립 가능한 아키텍처

---

## 3. 통합 아키텍처 설계 방향

### 3.1 핵심 설계 원칙

#### 순환적 인지 과정

```
이해 → 계획 → 실행(하이브리드 검색) → 성찰 → (순환)
```

**네 개의 핵심 모듈**이 **동적으로 상호작용**하며 순환적 인지 과정을 수행한다:

1. **이해 모듈**: 사용자 질의의 복잡성과 의도 파악
2. **계획 모듈**: 하위 작업 분해 및 실행 전략 수립
3. **실행 모듈**: 웹/내부 검색, 희소/밀집 검색의 하이브리드 수행
4. **성찰 모듈**: 결과 검증 및 전 과정에 대한 iterative self-correction

### 3.2 차별화된 혁신 포인트

#### 전역적 피드백 루프

기존 시스템들의 **선형적 한계**를 극복하고:

- **성찰 단계에서 계획 단계로의 피드백**
- **전체 전략 재수립** 가능한 유연한 구조

#### 비파인튜닝 기반 성찰

Self-RAG의 파인튜닝 의존성을 해결하고:

- **일반화된 아키텍처 수준**에서 성찰 효과 구현
- **실용성과 확장성** 확보

#### 적응적 하이브리드 검색

CRAG와 기업정보 분석 시스템의 장점을 결합하여:

- **내부/외부 정보원의 동적 선택**
- **희소/밀집 검색의 상황별 조합**

---

## 4. 발표용 핵심 메시지

### 4.1 문제 인식

- 기존 RAG 시스템들은 **선형적 파이프라인**의 한계로 **오류 전파** 문제 발생
- **단일 에이전트 모놀리식 구조**의 복잡한 추론 처리 한계

### 4.2 해결 방향

- **순환적 인지 아키텍처**: 이해→계획→실행→성찰의 **동적 상호작용**
- **전역적 피드백 루프**: 성찰에서 계획으로의 **전략 재수립** 메커니즘

### 4.3 기대 효과

- **오류 전파 방지**: 각 단계별 검증과 전역적 수정
- **실용성 확보**: 파인튜닝 없는 일반화된 성찰 구조
- **확장성 보장**: 모듈화된 하이브리드 검색 전략

---

### 참고문헌

1. PAR-RAG: Plan-then-Act-and-Review RAG - [arXiv:2504.16787](https://arxiv.org/abs/2504.16787)
2. MA-RAG: Multi-Agent Retrieval-Augmented Generation - [arXiv:2505.20096](https://arxiv.org/abs/2505.20096)
3. Self-RAG - [arXiv:2310.11511](https://arxiv.org/abs/2310.11511)
4. CRAG: Corrective Retrieval Augmented Generation - [arXiv:2310.11511](https://arxiv.org/abs/2310.11511)
5. RAG기반 AI Multi-Agent 시스템을 활용한 기업정보 분석 프레임워크 - DBPIA
