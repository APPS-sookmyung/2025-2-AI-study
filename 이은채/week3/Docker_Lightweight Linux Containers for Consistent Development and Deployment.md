# Docker: Lightweight Linux Containers for Consistent Development and Deployment (Merkel, 2014)  

---

## 1. 도커가 필요한 이유

- 다양한 라이브러리 버전, OS 차이, 의존성 문제 등으로 개발자가 로컬에서 코드를 실행할 때는 잘 작동되지만 운영 서버에 배포 시 오류가 나는 경우가 많음. 도커는 이를 해결하기 위해 프로그램과 모든 실행 요소를 하나의 패키지(컨테이너)로 묶어 어디서나 일관된 실행 환경을 제공

---

## 2. 도커의 개념과 원리

- **컨테이너(Container)**: 호스트 OS 위에서 실행되는 격리된 프로세스 집합  
- **VM vs 도커**: 호스트의 OS 전체를 복제해 게스트 OS를 새로 설치하는 가상머신과 달리, 도커는 호스트 OS 커널을 공유하기 때문에 훨씬 가볍고, 빠르고, 자원 낭비가 덜함
- 도커는 필요한 실행 환경을 이미지로 저장
- 도커는 리눅스 커널 기능을 조합해 만든 실행 단위
    - **네임스페이스(Namespates)**: 프로세스, 네트워크, 파일 시스템 등을 분리해 각 컨테이너가 독립된 환경처럼 보이게 만듦
    - **cgroups(Control Groups)**: CPU, 메모리, 네트워크 같은 자원 사용량을 제한하고 격리해 하나의 컨테이너가 자원을 독점하지 못하게 함

---

## 3. 도커의 핵심 구성 요소

- **이미지(Image)**: 컨테이너의 실행 환경을 담은 패키지, 프로그램 실행에 필요한 라이브러리와 파일 시스템이 담겨 있음.
여러 레이어가 겹쳐지는 구조로 각각의 레이어는 불변(immutable)성을 가짐, 수정은 새로운 레이어를 추가하는 방식으로 이뤄진다.
- **컨테이너(Container)**: 이미지를 실행한 프로세스 집합. 실행 시 이미지 위에 얇은 쓰기 가능한 레이어가 생성되고 그 위에 애플리케이션 프로세스가 실행 중인 상태를 뜻함. 컨테이너를 지우지 않고 계속 start/stop할 수 있어 지속적으로 사용하는 것이 가능하다.
- **레지스트리(Registry)**: 이미지를 저장하고 배포하는 서버. Docker Hub, GitHub Container Registry, GitLab Registry, ECR 등이 있음
    - **레포지토리(Repository)**: 레지스트리 안의 공간

---

## 4. 도커의 장점

- **일관성(Consistency)**: 개발, 테스트, 운영 모두 동일한 환경 보장
- **이식성(Portability)**: 환경을 가리지 않고 어디서든 실행 가능
- **효율성(Efficiency)**: VM보다 자원 사용이 적고 빠르게 실행
- **버전 관리(Version Control)**: 이미지 레이어 구조 덕분에 변경 추적과 롤백이 쉬움

---

## 5. 도커 활용 사례

- **개발 환경 배포**: 새 개발자가 합류 시 도커 이미지 하나로 동일한 환경 세팅 가능 
- **CI/CD 파이프라인 자동화**: 
    - 빌드: Dockerfile로 앱을 빌드해 레지스트리에 푸시
    - 테스트: 동일 이미지로 테스트 컨테이너 실행
    - 배포: 운영 서버는 새 태그로 pull 후 교체
- **연구 재현성**: 데이터 분석이나 연구 환경을 도커로 패키징하여 논문 저장소에 넣어두면 해당 파일을 통해 누가나 동일 환경에서 같은 결과를 관찰할 수 있음

---

## 6. 도커와 VM 비교

- **VM**: 완전한 가상 OS를 만들어 서로 완전히 분리된 환경 제공
- **도커**: 호스트의 OS 커널을 공유해 완전 분리X 
### 비교
- **시작 속도**
    - VM: 수 분 / Docker: 수 초
- **자원 사용**
    - VM: 무겁고 많은 메모리 필요 / Docker: OS 커널 공유 → 훨씬 가벼움
- **격리 수준**
    - VM: 완전한 OS 단위 격리 / Docker: 프로세스 단위 격리
- **사용 사례**
    - VM: 다양한 OS 동시 실행 / Docker: 빠르고 경량화된 배포 환경

---

## 7. 결론

- 도커는 VM보다 가볍고 효율적인 대안
- 개발자와 운영자의 환경 차이를 줄여줌
- DevOps, 클라우드, 연구 재현성 등 다양한 분야에서 활용 가능
- 앞으로 소프트웨어 배포의 핵심 기술로 자리 잡을 전망

